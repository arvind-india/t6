doctype html
html(lang='en')
  - title=dashboard.name
  include ../includes/head.jade
  body
    include ../includes/navbar-on-top.jade

    .container-fluid.starter-template
      .row.col-md-12
        - if (message && message.type && message.value)
          div.alert.alert-dismissible(class='alert-#{message.type}', role='alert') #{message.value}
            button.close(type='button', data-dismiss='alert', aria-label='Close')
              span(aria-hidden='true') &times;
        - end
        h2.fa.fa-2x.fa-random.editable-click#name(href='#', data-type='text', data-pk='1', data-url='./#{dashboard.id}/setName', data-title='Your dashboard name')  #{dashboard.name}
        span.editable.pull-right(style="margin-top: 20px;")
          .dropdown
            button#dropdownLayout.btn.btn-default.dropdown-toggle(type='button', data-toggle='dropdown', aria-haspopup='true', aria-expanded='true')
              i.fa.fa-table Layouts switch
              span.caret
            ul.dropdown-menu.dropdown-menu-right(aria-labelledby='dropdownLayout')
              li
                a(href='./#{dashboard.id}?layout=onecolumn') One Column Layout
              li
                a(href='./#{dashboard.id}?layout=twocolumnsright') 2 Columns Layout (left sidebar)
              li
                a(href='./#{dashboard.id}?layout=twocolumnsleft') 2 Columns Layout (right sidebar)
        p.editable-click#description(href='#', data-type='textarea', data-pk='2', data-url='./#{dashboard.id}/setDescription', data-title='Your dashboard description') !{nl2br(dashboard.description)}

      .row.col-md-12
        .col-xs-2.col-md-4
          .sidebar-module-inset
            h3 
            ul.list-unstyled.connectedSortable.sortable
              li &nbsp;
              li &nbsp;
              
        .col-xs-10.col-md-8
          ul.col-md-12.list-unstyled.connectedSortable.sortable
            | !{snippetHtml}

    include ../includes/foot.jade
    
    link(href='#{baseUrlCdn}/css/bootstrap-editable/bootstrap-editable-1.5.0.css', rel='stylesheet')
    script(src='#{baseUrlCdn}/js/bootstrap-editable/bootstrap-editable-1.5.0.min.js')
    script.
      $.fn.editable.defaults.mode = 'inline';
      $(document).ready(function() {
        $('h2#name').editable();
        $('p#description').editable();
      });